Options +SymLinksIfOwnerMatch

RewriteEngine On

RewriteCond %{REQUEST_URI} ^/login$
RewriteRule ^.*$ - [E=MY_LOG:[login_request]]

RewriteBase /

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Чистые URL для страниц
RewriteRule ^catalog$ catalog.php [L]
RewriteRule ^payment_delivery$ payment_delivery.php [L]
RewriteRule ^calculator$ calculator.php [L]
RewriteRule ^about$ about.php [L]
RewriteRule ^contacts$ contacts.php [L]
RewriteRule ^login/?$ login.php [L]
RewriteRule ^register$ register.php [L]
RewriteRule ^myacon/process$ myacon/process.php [L]
RewriteRule ^logout$ logout.php [L]
RewriteRule ^product$ product.php [L]
RewriteRule ^requirements$ requirements.php [L]
RewriteRule ^privacy$ privacy.php [L]
RewriteRule ^terms$ terms.php [L]
RewriteRule ^forgot-password$ forgot-password.php [L]
RewriteRule ^service/([0-9]+)$ service.php?id=$1 [L,QSA]
RewriteRule ^service$ service.php [L,QSA]
RewriteRule ^cart$ cart.php [L,QSA]
RewriteRule ^api/cart-count$ api/cart-count.php [L,QSA]
RewriteRule ^cart/add$ cart0/add.php [L,QSA]
RewriteRule ^cart/remove$ cart0/remove.php [L,QSA]
RewriteRule ^checkoutcart$ checkout.php [L,QSA]
RewriteRule ^checkoutshopcart/process$ checkoutshopcart/process.php [L,QSA]
RewriteRule ^checkoutshopcart/confirmation$ checkoutshopcart/comfirmation.php [L,QSA]

# Админ-панель
RewriteRule ^admin$ admin/index.php [L]
RewriteRule ^admin/orders$ admin/orders.php [L]
RewriteRule ^admin/managers$ admin/managers.php [L]
RewriteRule ^admin/calculator-settings$ admin/calculator-settings.php [L]
RewriteRule ^admin/edit-product$ admin/edit-product.php [L]
RewriteRule ^admin/register$ admin/register.php [L]
RewriteRule ^admin/users$ admin/users.php [L]
RewriteRule ^admin/products$ admin/products.php [L]
RewriteRule ^admin/product/edit$ admin/product/edit.php [L]
RewriteRule ^admin/product/manage_expenses$ admin/product/manage_expenses.php [L,QSA]
RewriteRule ^admin/attributes$ admin/attributes.php [L]
RewriteRule ^admin/discounts$ admin/discounts.php [L]
RewriteRule ^admin/tax_settings$ admin/tax_settings.php [L]
RewriteRule ^admin/order/add_external$ admin/order/add_external.php [L,QSA]
RewriteRule ^admin/images$ admin/images.php [L,QSA]
RewriteRule ^admin/image/delete$ admin/image/delete.php [L,QSA]
RewriteRule ^admin/partners$ admin/partners.php [L,QSA]
RewriteRule ^admin/seo/home$ admin/seo/index.php [L,QSA]
RewriteRule ^admin/statistic$ admin/statistic.php [L,QSA]
RewriteRule ^admin/order/details/([0-9]+)$ admin/order/details.php?id=$1 [L,QSA]
RewriteRule ^admin/order/details$ admin/order/details.php [L,QSA]
RewriteRule ^admin/buhgalt/orderdetail$ admin/buhgalt/order_detail.php [L,QSA]
RewriteRule ^admin/buhgalt/addexpense$ admin/buhgalt/add_expense.php [L,QSA]
RewriteRule ^admin/buhgalt/index$ admin/buhgalt/index.php [L,QSA]
RewriteRule ^admin/buhgalt/add_external_order$ admin/buhgalt/add_external_order.php [L,QSA]
RewriteRule ^admin/buhgalt/add_payment$ admin/buhgalt/add_payment.php [L,QSA]
RewriteRule ^admin/buhgalt/add_expense$ admin/buhgalt/add_expense.php [L,QSA]
RewriteRule ^admin/buhgalt/add_general_expense$ admin/buhgalt/add_general_expense.php [L,QSA]
RewriteRule ^admin/orderform$ admin/order_form.php [L,QSA]
RewriteRule ^admin/contacts/messages$ admin/contacts/messages.php [L,QSA]
RewriteRule ^admin/materials$ admin/materials/index.php [L,QSA]
RewriteRule ^admin/materials/add$ admin/materials/add.php [L,QSA]
RewriteRule ^admin/materials/edit$ admin/materials/edit.php [L,QSA]
RewriteRule ^admin/materials/movements$ admin/materials/movements.php [L,QSA]
RewriteRule ^admin/materials/movementadd$ admin/materials/movement_add.php [L,QSA]

# Личный кабинет
RewriteRule ^client/dashboard$ client/dashboard.php [L,QSA]
RewriteRule ^client/settings$ client/settings.php [L,QSA]
RewriteRule ^client/orders$ client/orders.php [L,QSA]

ErrorDocument 404 /404.php

# Защита от доступа к .htaccess
<Files .htaccess>
    Order allow,deny
    Deny from all
</Files>
